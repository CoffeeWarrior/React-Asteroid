(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a.p+"static/media/ship.cd54a46c.svg"},11:function(t,e,a){t.exports=a.p+"static/media/asteroid.3b97d2f1.svg"},12:function(t,e,a){t.exports=a(20)},18:function(t,e,a){},20:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(9),r=a.n(o),s=a(2),c=a(3),d=a(5),l=a(4),h=a(6),p=a(7),u=a(1),f=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(d.a)(this,Object(l.a)(e).call(this,t))).start=function(){var t=setInterval(a.tick,100);a.setState({start:new Date,timerID:t})},a.componentDidMount=function(){a.start()},a.componentWillUnmount=function(){clearInterval(a.state.timerID)},a.tick=function(){var t=new Date-a.state.start;a.props.lost&&(clearInterval(a.state.timerID),a.setState({timerID:null})),a.setState({elapsed:t})},a.state={elapsed:0,start:null,timerID:null},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidUpdate",value:function(){this.state.timerID||this.props.lost||this.start()}},{key:"render",value:function(){return i.a.createElement("h1",{style:{zIndex:"2",position:"absolute",top:"1rem",fontFamily:'"Press Start 2P", cursive',left:"1.5rem",color:"white"}},"SCORE: ",(100*Math.floor(this.state.elapsed/100)).toFixed(0))}}]),e}(n.Component),y=function(t){return i.a.createElement("div",{onClick:t.onClick},i.a.createElement("div",{style:{backgroundColor:"white",color:"black",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"15rem",height:"6rem",zIndex:"25",textAlign:"center",borderRadius:"5px",fontFamily:'"Press Start 2P", cursive'}},i.a.createElement("p",null,"You lose."),i.a.createElement("p",null," Click anywhere to play another")),i.a.createElement("div",{style:{width:"100vw",height:"100vh",backgroundColor:"black",opacity:".5",position:"absolute",top:"0",left:"0"}}))},v=a(10),m=a.n(v),w=function(t,e){if("keydown"===t.type){var a=Object(u.a)({},e);switch(t.key){case"w":a.w=!0;break;case"s":a.s=!0;break;case"a":a.a=!0;break;case"d":a.d=!0}return a}if("keyup"===t.type){var n=Object(u.a)({},e);switch(t.key){case"w":n.w=!1;break;case"s":n.s=!1;break;case"a":n.a=!1;break;case"d":n.d=!1}return n}},b=function(t){var e=0;return t.w?(e+=0,t.d&&(e+=45),t.a&&(e+=315),e):t.a?(e+=270,t.s&&(e-=45),t.w&&(e-=45),e):t.s?(e+=180,t.d&&(e-=45),t.a&&(e-=45),e):t.d?(e+=90,t.w&&(e+=45),t.s&&(e-=45),e):void 0},k=function(t,e){var a=e.shipPosition,n=e.shipAngle,i=e.shipIMG;t.save(),t.translate(a.x,a.y),t.translate(25,25),t.rotate(n*Math.PI/180),t.drawImage(i,-25,-25),t.restore()},x=a(11),M=a.n(x),g=function(t,e,a,n){var i={position:{x:0,y:0},direction:{dx:0,dy:0},incrementPosition:function(){i.position.x+=i.direction.dx,i.position.y+=i.direction.dy},insideAsteroid:function(t,e){var a=i.position.x+i.asteroidIMG.width/2,n=i.position.y+i.asteroidIMG.height/2;return 55>=Math.sqrt(Math.pow(t-a,2)+Math.pow(e-n,2))},asteroidIMG:n,negateX:!1,negateY:!1};switch(["top","bottom","left","right"][Math.floor(4*Math.random())]){case"top":i.position.x=Math.random()*a,i.position.y=-100;break;case"bottom":i.position.x=Math.random()*a,i.position.y=e;break;case"left":i.position.x=-100,i.position.y=Math.random()*e;break;case"right":i.position.x=a,i.position.y=Math.random()*e;break;default:return 0}var o=Math.atan(Math.abs(t.y-i.position.y)/Math.abs(t.x-i.position.x))+20*Math.random()*(-1^Math.round(Math.random()))/360,r=Math.ceil(15*Math.random())+10;return i.negateX=i.position.x>t.x,i.negateY=i.position.y>t.y,i.direction.dx=Math.cos(o)*r,i.direction.dy=Math.sin(o)*r,i.negateX&&(i.direction.dx=-1*i.direction.dx),i.negateY&&(i.direction.dy=-1*i.direction.dy),i},I=function(t,e){var a=e.asteroidIMG,n=e.position;t.drawImage(a,n.x,n.y)},A=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(d.a)(this,Object(l.a)(e).call(this,t))).moveShip=function(){if(a.state.shipLoaded){var t=Object(u.a)({},a.state),e=Object(u.a)({},t.shipPosition);a.state.keyMap.w&&(e.y-=7),a.state.keyMap.s&&(e.y+=7),a.state.keyMap.a&&(e.x-=7),a.state.keyMap.d&&(e.x+=7),a.setState({shipPosition:e}),k(a.refs.canvas.getContext("2d"),a.state);var n={x:e.x+a.state.shipIMG.width/2,y:e.y+a.state.shipIMG.height/2};a.setState({shipHitBox:n})}},a.updateAsteroid=function(){if(a.state.asteroidLoaded){for(var t=a.refs.canvas.getContext("2d"),e=Object(p.a)(a.state.asteroidArray),n=0;n<a.state.asteroidArray.length;n++)I(t,a.state.asteroidArray[n]),e[n].insideAsteroid(a.state.shipHitBox.x,a.state.shipHitBox.y)&&(a.setState({lost:!0}),clearInterval(a.state.intervalRedraw)),e[n].incrementPosition();a.setState({asteroidArray:e})}},a.decrementAsteroidArray=function(){var t=Object(p.a)(a.state.asteroidArray).filter(function(t){return t.position.x<a.refs.canvas.width&&t.position.x>0});a.setState({asteroidArray:t})},a.drawCanvas=function(){a.refs.canvas.getContext("2d").clearRect(0,0,a.refs.canvas.width,a.refs.canvas.height),a.moveShip(),a.updateAsteroid()},a.incrementAsteroidArray=function(){if(a.state.asteroidLoaded){var t=g(a.state.shipPosition,a.refs.canvas.height,a.refs.canvas.width,a.state.asteroidIMG),e=Object(p.a)(a.state.asteroidArray);e.push(t),a.setState({asteroidArray:e})}},a.loadAsteroid=function(){var t=new Image(100,100);t.onload=function(){a.setState({asteroidLoaded:!0,asteroidIMG:t}),setInterval(a.incrementAsteroidArray,600)},t.src=M.a},a.loadShip=function(){var t=new Image(50,50);t.onload=function(){a.setState({shipIMG:t,shipLoaded:!0})},t.src=m.a},a.start=function(){a.setState({restart:!1,lost:!1,asteroidArray:[]});var t=a.refs.canvas;t.height=window.innerHeight,t.width=window.innerWidth,a.setState({shipPosition:{x:a.refs.canvas.width/2,y:a.refs.canvas.height/2}}),setInterval(a.decrementAsteroidArray,5e3);var e=setInterval(a.drawCanvas,25);a.setState({intervalRedraw:e})},a.state={backgroundColor:"#000",shipPosition:{x:0,y:0},shipHitBox:{x:0,y:0},keyMap:{w:!1,s:!1,a:!1,d:!1},shipIMG:null,shipLoaded:!1,shipAngle:0,asteroidIMG:null,asteroidLoaded:!1,asteroidArray:[],lost:!1,restart:!1},a}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.start(),this.loadShip(),this.loadAsteroid(),window.addEventListener("keydown",function(e){t.setState({keyMap:w(e,t.state.keyMap)},function(){t.setState({shipAngle:b(Object(u.a)({},t.state.keyMap))})})}),window.addEventListener("keyup",function(e){t.setState({keyMap:w(e,t.state.keyMap)},function(){t.setState({shipAngle:b(Object(u.a)({},t.state.keyMap))})})})}},{key:"componentDidUpdate",value:function(){this.state.restart&&this.start()}},{key:"render",value:function(){var t=this,e=null;return this.state.lost&&(e=i.a.createElement(y,{onClick:function(){return t.setState({restart:!0})}})),i.a.createElement("div",null,i.a.createElement(f,{lost:this.state.lost}),i.a.createElement("canvas",{ref:"canvas",style:{boxSizing:"border-box",backgroundColor:"black",padding:"0px",position:"relative"}}),e)}}]),e}(n.Component),S=function(t){function e(){return Object(s.a)(this,e),Object(d.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(A,null))}}]),e}(n.Component);a(18),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[12,2,1]]]);
//# sourceMappingURL=main.5e247a5c.chunk.js.map